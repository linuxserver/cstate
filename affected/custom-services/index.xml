<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><link rel="alternate" type="text/html" href="https://info.linuxserver.io"/><title>custom-services on Info :: LinuxServer.io</title><link>https://info.linuxserver.io/affected/custom-services/</link><description>History</description><generator>github.com/cstate</generator><language>en</language><lastBuildDate>2022-12-22T20:00:00+00:00</lastBuildDate><updated>2022-12-22T20:00:00+00:00</updated><atom:link href="https://info.linuxserver.io/affected/custom-services/index.xml" rel="self" type="application/rss+xml"/><item><title>Reminder: Deprecation of Legacy Custom Scripts &amp; Services Locations</title><link>https://info.linuxserver.io/issues/2022-12-22-custom-files/</link><pubDate>Thu, 22 Dec 2022 20:00:00 +0000</pubDate><guid>https://info.linuxserver.io/issues/2022-12-22-custom-files/</guid><category/><description>As we announced back in August, we have made changes to the locations that custom scripts and services are imported from. We are now starting the process of removing support for the old locations from our base images. This means that after the end of December 2022 we will no longer support running custom scripts and services from the legacy locations within the /config mount. Please note that it may take several days, or even a few weeks in some cases, for this change to propagate to all of our images.</description><content type="html">&lt;p>As we &lt;a href="https://info.linuxserver.io/issues/2022-08-29-custom-files/">announced back in August&lt;/a>, we have made changes to the locations that custom scripts and services are imported from. We are now starting the process of removing support for the old locations from our base images. This means that after the end of December 2022 we will no longer support running custom scripts and services from the legacy locations within the &lt;code>/config&lt;/code> mount. &lt;strong>Please note that it may take several days, or even a few weeks in some cases, for this change to propagate to all of our images&lt;/strong>.&lt;/p>
&lt;h3 id="custom-files">Custom Files&lt;/h3>
&lt;p>These now reside in &lt;code>/custom-cont-init.d&lt;/code>. The folder and files need to be owned by root, the files need to be chmod &lt;code>+x&lt;/code> and are executed in name order.&lt;/p>
&lt;h3 id="custom-services">Custom Services&lt;/h3>
&lt;p>Similar to custom files, these now reside in &lt;code>/custom-services.d&lt;/code>. The folder and files need to be owned by root, and the service files need to be chmod &lt;code>+x&lt;/code>.&lt;/p>
&lt;h3 id="mounting-paths">Mounting Paths&lt;/h3>
&lt;p>Because these new locations are outside of &lt;code>/config&lt;/code> you will need to mount them like any other additional volume if you wish to make use of them. e.g. &lt;code>-v /home/foo/appdata/my-custom-files/bar:/custom-cont-init.d:ro&lt;/code> if using the Docker CLI or&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">services&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">bar&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">volumes&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/bar:/config&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/my-custom-files/bar:/custom-cont-init.d:ro&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>if using compose. Where possible, to improve security, we recommend mounting them read-only (&lt;code>:ro&lt;/code>) so that container processes cannot write to the location.&lt;/p>
&lt;p>Please note that we &lt;strong>do not support&lt;/strong> mounting folders for custom scripts and services if they sit within the same folder that you are mounting for /config. i.e.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/bar:/config&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/bar/custom-stuff:/custom-cont-init.d&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>as this can cause you permissions problems.&lt;/p></content></item><item><title>Notification: Deprecation of Legacy Custom Scripts &amp; Services Locations</title><link>https://info.linuxserver.io/issues/2022-11-29-custom-files/</link><pubDate>Tue, 29 Nov 2022 18:00:00 +0000</pubDate><guid>https://info.linuxserver.io/issues/2022-11-29-custom-files/</guid><category/><description>As we announced back in August, we have made changes to the locations that custom scripts and services are imported from. We are now starting the process of deprecating the old locations. This means that after the end of December 2022 we will no longer support running custom scripts and services from the legacy locations within the /config mount. Please note that it may take several days, or even a few weeks in some cases, for this change to propagate to all of our images.</description><content type="html">&lt;p>As we &lt;a href="https://info.linuxserver.io/issues/2022-08-29-custom-files/">announced back in August&lt;/a>, we have made changes to the locations that custom scripts and services are imported from. We are now starting the process of deprecating the old locations. This means that after the end of December 2022 we will no longer support running custom scripts and services from the legacy locations within the &lt;code>/config&lt;/code> mount. &lt;strong>Please note that it may take several days, or even a few weeks in some cases, for this change to propagate to all of our images&lt;/strong>.&lt;/p>
&lt;h3 id="custom-files">Custom Files&lt;/h3>
&lt;p>These now reside in &lt;code>/custom-cont-init.d&lt;/code>. The folder and files need to be owned by root, the files need to be chmod &lt;code>+x&lt;/code> and are executed in name order.&lt;/p>
&lt;h3 id="custom-services">Custom Services&lt;/h3>
&lt;p>Similar to custom files, these now reside in &lt;code>/custom-services.d&lt;/code>. The folder and files need to be owned by root, and the service files need to be chmod &lt;code>+x&lt;/code>.&lt;/p>
&lt;h3 id="mounting-paths">Mounting Paths&lt;/h3>
&lt;p>Because these new locations are outside of &lt;code>/config&lt;/code> you will need to mount them like any other additional volume if you wish to make use of them. e.g. &lt;code>-v /home/foo/appdata/my-custom-files/bar:/custom-cont-init.d:ro&lt;/code> if using the Docker CLI or&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">services&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">bar&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">volumes&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/bar:/config&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/my-custom-files/bar:/custom-cont-init.d:ro&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>if using compose. Where possible, to improve security, we recommend mounting them read-only (&lt;code>:ro&lt;/code>) so that container processes cannot write to the location.&lt;/p>
&lt;p>Please note that we do not support mounting folders for custom scripts and services if they sit within the same folder that you are mounting for /config. i.e.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/bar:/config&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/bar/custom-stuff:/custom-cont-init.d&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>as this can cause you permissions problems.&lt;/p></content></item><item><title>Notification: Changes For Custom Scripts &amp; Services</title><link>https://info.linuxserver.io/issues/2022-08-29-custom-files/</link><pubDate>Mon, 29 Aug 2022 12:00:00 +0000</pubDate><guid>https://info.linuxserver.io/issues/2022-08-29-custom-files/</guid><category/><description>We have long supported customizing our containers via scripts and services as a simple way for users to add their own logic and packages to a container without having to modify the Dockerfile and maintain a local build of the image. As part of the broader refresh of our base images, which has already made changes to the way that mods work, we are also making changes to custom files and services.</description><content type="html">&lt;p>We have long supported &lt;a href="https://www.linuxserver.io/blog/2019-09-14-customizing-our-containers">customizing our containers&lt;/a> via scripts and services as a simple way for users to add their own logic and packages to a container without having to modify the Dockerfile and maintain a local build of the image. As part of the broader refresh of our base images, which has already made changes to the way that &lt;a href="https://info.linuxserver.io/issues/2022-08-27-mods/">mods work&lt;/a>, we are also making changes to custom files and services. &lt;strong>Please note that it may take several days, or even a few weeks in some cases, for this change to propagate to all of our images&lt;/strong>.&lt;/p>
&lt;h3 id="custom-files">Custom Files&lt;/h3>
&lt;p>These now reside in &lt;code>/custom-cont-init.d&lt;/code> instead of under &lt;code>/config/custom-cont-init.d&lt;/code> which allows us to decouple them from our permissions logic, and means we no longer have to create the folders even if people aren&amp;rsquo;t using them. Beyond the change in location everything else remains the same - the folder and files need to be owned by root, the files need to be chmod &lt;code>+x&lt;/code> and are executed in name order.&lt;/p>
&lt;h3 id="custom-services">Custom Services&lt;/h3>
&lt;p>Similar to custom files, these now reside in &lt;code>/custom-services.d&lt;/code> instead of under &lt;code>/config/custom-services.d&lt;/code>. Beyond the change in location everything else remains the same - the folder and files need to be owned by root, and the service files need to be chmod &lt;code>+x&lt;/code>.&lt;/p>
&lt;p>The old custom locations will continue to work for a while to provide time for users to migrate but will generate warnings in the logs, as well as writing files to the old locations to notify users of the changes. We will post another notice before we remove the legacy locations entirely.&lt;/p>
&lt;h3 id="mounting-paths">Mounting Paths&lt;/h3>
&lt;p>Because these new locations are outside of &lt;code>/config&lt;/code> you will need to mount them like any other volume if you wish to make use of them. e.g. &lt;code>-v /home/foo/appdata/my-custom-files:/custom-cont-init.d&lt;/code> if using the Docker CLI or&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">services&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">bar&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">volumes&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/bar:/config&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">/home/foo/appdata/my-custom-files:/custom-cont-init.d&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>if using compose. Where possible, to improve security, we recommend mounting them read-only (&lt;code>:ro&lt;/code>) so that container processes cannot write to the location.&lt;/p></content></item></channel></rss>