{"is":"issue","title":"Notification: Changes For Custom Scripts & Services","body":"\u003cp\u003eWe have long supported \u003ca href=\"https://www.linuxserver.io/blog/2019-09-14-customizing-our-containers\"\u003ecustomizing our containers\u003c/a\u003e via scripts and services as a simple way for users to add their own logic and packages to a container without having to modify the Dockerfile and maintain a local build of the image. As part of the broader refresh of our base images, which has already made changes to the way that \u003ca href=\"https://info.linuxserver.io/issues/2022-08-27-mods/\"\u003emods work\u003c/a\u003e, we are also making changes to custom files and services. \u003cstrong\u003ePlease note that it may take several days, or even a few weeks in some cases, for this change to propagate to all of our images\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3 id=\"custom-files\"\u003eCustom Files\u003c/h3\u003e\n\u003cp\u003eThese now reside in \u003ccode\u003e/custom-cont-init.d\u003c/code\u003e instead of under \u003ccode\u003e/config/custom-cont-init.d\u003c/code\u003e which allows us to decouple them from our permissions logic, and means we no longer have to create the folders even if people aren\u0026rsquo;t using them. Beyond the change in location everything else remains the same - the folder and files need to be owned by root, the files need to be chmod \u003ccode\u003e+x\u003c/code\u003e and are executed in name order.\u003c/p\u003e\n\u003ch3 id=\"custom-services\"\u003eCustom Services\u003c/h3\u003e\n\u003cp\u003eSimilar to custom files, these now reside in \u003ccode\u003e/custom-services.d\u003c/code\u003e instead of under \u003ccode\u003e/config/custom-services.d\u003c/code\u003e. Beyond the change in location everything else remains the same - the folder and files need to be owned by root, and the service files need to be chmod \u003ccode\u003e+x\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe old custom locations will continue to work for a while to provide time for users to migrate but will generate warnings in the logs, as well as writing files to the old locations to notify users of the changes. We will post another notice before we remove the legacy locations entirely.\u003c/p\u003e\n\u003ch3 id=\"mounting-paths\"\u003eMounting Paths\u003c/h3\u003e\n\u003cp\u003eBecause these new locations are outside of \u003ccode\u003e/config\u003c/code\u003e you will need to mount them like any other volume if you wish to make use of them. e.g. \u003ccode\u003e-v /home/foo/appdata/my-custom-files:/custom-cont-init.d\u003c/code\u003e if using the Docker CLI or\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eservices\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003ebar\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      - \u003cspan style=\"color:#ae81ff\"\u003e/home/foo/appdata/bar:/config\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      - \u003cspan style=\"color:#ae81ff\"\u003e/home/foo/appdata/my-custom-files:/custom-cont-init.d\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eif using compose. Where possible, to improve security, we recommend mounting them read-only (\u003ccode\u003e:ro\u003c/code\u003e) so that container processes cannot write to the location.\u003c/p\u003e\n","createdAt":"2022-08-29 12:00:00 +0000 UTC","lastMod":"2022-08-28 22:47:21 +0100 +0100","permalink":"https://info.linuxserver.io/issues/2022-08-29-custom-files/","severity":"<no value>","resolved":false,"informational":true,"resolvedAt":"<no value>","affected":["Notifications","custom-files","custom-services"],"filename":"2022-08-29-custom-files.md"}