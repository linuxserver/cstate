{"is":"issue","title":"PSA Regarding Potential Misconfiguration of Unifi-Network-Application and MongoDB","body":"\u003cp\u003eWe have recently been notified that if \u003ca href=\"https://www.mongodb.com/docs/manual/core/authorization/#role-based-access-control\"\u003eRole Based Access Control (RBAC)\u003c/a\u003e is not enabled in MongoDB, the official MongoDB container allows remote access to the db contents over port 27017 without credentials even though the official docs suggest that should only be possible when connecting from 127.0.0.1.\u003c/p\u003e\n\u003cp\u003eThe previous instructions for setting up MongodB we had provided in our \u003ca href=\"https://github.com/linuxserver/docker-unifi-network-application\"\u003eUnifi-Network-Application image readme\u003c/a\u003e set up MongoDB without \u003ca href=\"https://www.mongodb.com/docs/manual/core/authorization/#role-based-access-control\"\u003eRBAC\u003c/a\u003e. If you set up the MongoDB container with the old instructions we had provided, \u003cstrong\u003edo not map or expose port 27017\u003c/strong\u003e. If you are currently not mapping the port in MongoDB and only allowing Unifi-Network-Application to access it over a dedicated user defined docker bridge network, you should be fine. The instructions did not contain the port mapping section.\u003c/p\u003e\n\u003cp\u003eThe MongoDB init instructions in our \u003ca href=\"https://github.com/linuxserver/docker-unifi-network-application\"\u003eUnifi-Network-Application image readme\u003c/a\u003e have been updated to enable \u003ca href=\"https://www.mongodb.com/docs/manual/core/authorization/#role-based-access-control\"\u003eRBAC\u003c/a\u003e to help prevent issues due to such misconfigurations in the future.\u003c/p\u003e\n\u003cp\u003eIf you need to map or expose the port because the containers run on different machines, or if you would like to enable auth/RBAC for another reason, we suggest creating new instances of both Unifi-Network-Application and MongoDB with the new instructions and restoring Unifi-Network-Application from a backup.\u003c/p\u003e\n","createdAt":"2024-08-13 23:00:00 +0000 UTC","lastMod":"2024-08-12 10:23:18 -0400 -0400","permalink":"https://info.linuxserver.io/issues/2024-08-11-unifi-auth/","severity":"<no value>","resolved":false,"informational":true,"resolvedAt":"<no value>","affected":["unifi-network-application"],"filename":"2024-08-11-unifi-auth.md"}