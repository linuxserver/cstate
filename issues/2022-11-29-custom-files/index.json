{"is":"issue","title":"Notification: Deprecation of Legacy Custom Scripts & Services Locations","body":"\u003cp\u003eAs we \u003ca href=\"https://info.linuxserver.io/issues/2022-08-29-custom-files/\"\u003eannounced back in August\u003c/a\u003e, we have made changes to the locations that custom scripts and services are imported from. We are now starting the process of deprecating the old locations. This means that after the end of December 2022 we will no longer support running custom scripts and services from the legacy locations within the \u003ccode\u003e/config\u003c/code\u003e mount. \u003cstrong\u003ePlease note that it may take several days, or even a few weeks in some cases, for this change to propagate to all of our images\u003c/strong\u003e.\u003c/p\u003e\n\u003ch3 id=\"custom-files\"\u003eCustom Files\u003c/h3\u003e\n\u003cp\u003eThese now reside in \u003ccode\u003e/custom-cont-init.d\u003c/code\u003e. The folder and files need to be owned by root, the files need to be chmod \u003ccode\u003e+x\u003c/code\u003e and are executed in name order.\u003c/p\u003e\n\u003ch3 id=\"custom-services\"\u003eCustom Services\u003c/h3\u003e\n\u003cp\u003eSimilar to custom files, these now reside in \u003ccode\u003e/custom-services.d\u003c/code\u003e. The folder and files need to be owned by root, and the service files need to be chmod \u003ccode\u003e+x\u003c/code\u003e.\u003c/p\u003e\n\u003ch3 id=\"mounting-paths\"\u003eMounting Paths\u003c/h3\u003e\n\u003cp\u003eBecause these new locations are outside of \u003ccode\u003e/config\u003c/code\u003e you will need to mount them like any other additional volume if you wish to make use of them. e.g. \u003ccode\u003e-v /home/foo/appdata/my-custom-files/bar:/custom-cont-init.d:ro\u003c/code\u003e if using the Docker CLI or\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#f92672\"\u003eservices\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#f92672\"\u003ebar\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#f92672\"\u003evolumes\u003c/span\u003e:\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      - \u003cspan style=\"color:#ae81ff\"\u003e/home/foo/appdata/bar:/config\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      - \u003cspan style=\"color:#ae81ff\"\u003e/home/foo/appdata/my-custom-files/bar:/custom-cont-init.d:ro\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eif using compose. Where possible, to improve security, we recommend mounting them read-only (\u003ccode\u003e:ro\u003c/code\u003e) so that container processes cannot write to the location.\u003c/p\u003e\n\u003cp\u003ePlease note that we do not support mounting folders for custom scripts and services if they sit within the same folder that you are mounting for /config. i.e.\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      - \u003cspan style=\"color:#ae81ff\"\u003e/home/foo/appdata/bar:/config\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e      - \u003cspan style=\"color:#ae81ff\"\u003e/home/foo/appdata/bar/custom-stuff:/custom-cont-init.d\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eas this can cause you permissions problems.\u003c/p\u003e\n","createdAt":"2022-11-29 18:00:00 +0000 UTC","lastMod":"2022-11-29 14:10:39 +0000 UTC","permalink":"https://info.linuxserver.io/issues/2022-11-29-custom-files/","severity":"<no value>","resolved":false,"informational":true,"resolvedAt":"<no value>","affected":["Notifications","custom-files","custom-services"],"filename":"2022-11-29-custom-files.md"}